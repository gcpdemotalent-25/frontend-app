server {
  # Écoute sur le port 80
  listen 80;

  # Définit la racine où se trouvent les fichiers du site
  root /usr/share/nginx/html;

  # Sert le fichier index.html comme page par défaut
  index index.html index.htm;

  # Configuration pour les SPA (Single Page Applications)
  location / {
    # Essaie de servir le fichier demandé directement.
    # Si le fichier n'est pas trouvé, essaie de servir un dossier.
    # Si ni l'un ni l'autre n'est trouvé, renvoie sur /index.html
    # C'est la ligne magique qui fait fonctionner React Router.
    try_files $uri $uri/ /index.html;
  }

  # Optionnel: Optimisation pour le cache des assets
  location ~* \.(?:ico|css|js|gif|jpe?g|png)$ {
    expires 1y;
    add_header Cache-Control "public";
  }
}